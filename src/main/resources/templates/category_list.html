<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Liste des catégories</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">

<div class="max-w-5xl mx-auto mt-8 bg-white p-6 rounded-lg shadow">

    <!-- Titre -->
    <h2 class="text-2xl font-bold mb-6 text-gray-800">
        Liste des catégories
    </h2>

    <!-- Bouton Nouvelle catégorie -->
    <div sec:authorize="hasRole('ADMIN')" class="mb-4">
        <a href="/category/new"
           class="inline-block bg-[#FF8DA1] hover:bg-[#FF6C9E] text-white px-4 py-2 rounded-lg transition">
            + Nouvelle catégorie
        </a>
    </div>

    <!-- Tableau -->
    <div class="overflow-x-auto">
        <table class="w-full border border-gray-200 rounded-lg overflow-hidden">
            <thead class="bg-[#C11C84] text-white">
            <tr>
                <th class="px-4 py-2 text-left">ID</th>
                <th class="px-4 py-2 text-left">Nom</th>
                <th class="px-4 py-2 text-center">Actions</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="c : ${categories}"
                class="border-b hover:bg-gray-200">
                <td class="px-4 py-2" th:text="${c.id}"></td>
                <td class="px-4 py-2" th:text="${c.nom}"></td>

                <td class="px-4 py-2 text-center">
                    <div sec:authorize="hasRole('ADMIN')">
                        <a th:href="@{'/category/delete/' + ${c.id}}"
                           onclick="return confirm('Supprimer ?')"
                           class="inline-block bg-[#FF8DA1] hover:bg-[#FF6C9E] text-white px-4 py-2 rounded-lg transition">
                            Supprimer
                        </a>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>

</body>
</html>
